{"version":3,"sources":["components/TodoInput.js","components/TodoItem.js","leanCloud.js","components/SignUpForm.js","components/SignInForm.js","components/SignInOrSignUp.js","components/ForgetPasswordForm.js","components/UserDialog.js","App.js","serviceWorker.js","index.js"],"names":["TodoInput","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleInputChange","bind","assertThisInitialized","event","title","refs","value","onChange","content","react_default","a","createElement","_react_addons_css_transition_group_15_6_2_react_addons_css_transition_group_default","transitionEnter","transitionLeave","transitionEnterTimeout","transitionLeaveTimeout","transitionName","className","key","name","ref","placeholder","style","maxWidth","onKeyPress","submit","es_button","onClick","submit2","e","preventDefault","onSubmit","Component","TodoItem","changeColor","card","es_checkbox","checked","todo","status","toggle","extra","icon","type","theme","delete","width","onToggle","onDelete","AV","init","appId","appKey","TodoModel","getByUser","user","successFn","errorFn","query","Query","equalTo","find","then","response","array","map","t","objectSpread","id","attributes","error","create","_ref","deleted","extend","set","acl","ACL","setPublicReadAccess","setWriteAccess","User","current","setReadAccess","setACL","save","update","_ref2","createWithoutData","undefined","destroy","todoId","getCurrentUser","getUserFromAVUser","AVUser","SignUpForm","es_form","input","formData","email","prefix","color","username","maxLength","password","htmlType","SignInForm","href","onForgotPassword","SignInOrSignUp","state","selected","setState","target","es_radio","switch","onSignUp","onSignIn","ForgotPasswordForm","UserDialog","selectedTab","_this2","_this$state$formData","setUsername","setPassword","signUp","loginedUser","code","alert","window","location","reload","_this3","_this$state$formData2","logIn","signIn","stateCopy","JSON","parse","stringify","console","log","SignInOrSignUp_SignInOrSignUp","changeFormData","showForgotPassword","ForgetPasswordForm_ForgotPasswordForm","resetPassword","returnToSignIn","requestPasswordReset","success","App","newTodo","newContent","todoList","visible","InputShow","todos","Footer","Layout","Header","Sider","Content","filter","item","index","es","delay","leaveReverse","components_TodoItem","signOut","showInput","components_TodoInput","contents","addTodo","changeTitle","marginBottom","backgroundColor","UserDialog_UserDialog","onSignUpOrSignIn","logOut","push","_this4","oldStatus","_this5","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a96c94b9.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button } from 'antd';\r\nimport '../css/TodoInput.css'\r\nimport \"animate.css\";\r\nimport ReactCSSTransitionGroup from \"react-addons-css-transition-group\";\r\n\r\nclass TodoInput extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n    handleInputChange(event) {\r\n        // const target = event.target;\r\n        // const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        // const name = target.name;\r\n        let title = this.refs.title.value\r\n        // console.log(title,content);\r\n        // this.props.onCommentSubmit({title,content});\r\n        let content = ''\r\n        this.props.onChange({title,content})\r\n        \r\n      }\r\n    render(){\r\n        return (\r\n            <ReactCSSTransitionGroup\r\n            transitionEnter={true}\r\n            transitionLeave={true}\r\n            transitionEnterTimeout={2500}\r\n            transitionLeaveTimeout={1500}\r\n            transitionName=\"animated\"\r\n            >\r\n            <form className='InputForm animated bounceInDown' key=\"amache\" >\r\n                <label>\r\n                    <input\r\n                    className='Inputstyle'\r\n                    name='title'\r\n                    ref=\"title\"\r\n                    placeholder=\"  添加 Todo\"\r\n                    style={{ maxWidth: 200 }}\r\n                    value={this.props.content} \r\n                    onKeyPress={this.submit.bind(this)}\r\n                    onChange={this.handleInputChange}\r\n                    />\r\n                </label>\r\n                <Button onClick={this.submit2.bind(this)}>添加</Button>\r\n            </form>\r\n        </ReactCSSTransitionGroup>)\r\n    }\r\n    submit(e){\r\n        if(e.key === 'Enter'){\r\n            e.preventDefault()\r\n            let title = this.refs.title.value\r\n            let content = ''\r\n            this.props.onSubmit({title,content})\r\n        }\r\n    }\r\n    submit2(e){\r\n        e.preventDefault()\r\n        let title = this.refs.title.value\r\n        let content = ''\r\n        this.props.onSubmit({title,content})\r\n    }\r\n    changeTitle(e){\r\n        this.props.onChange(e)\r\n    }\r\n}\r\n\r\nexport default TodoInput","import React, { Component } from 'react';\r\nimport { Card,Checkbox,Icon } from 'antd';\r\nimport '../css/TodoItem.css'\r\nimport style from '../css/change.css'\r\n// import Texty from 'rc-texty';\r\n\r\nclass TodoItem extends Component{\r\n    render(){\r\n        let {changeColor} = style\r\n        return (<div className=\"TodoItem\">\r\n            <Card\r\n            title={<Checkbox \r\n                checked={this.props.todo.status === 'completed'} \r\n                onChange={this.toggle.bind(this)}\r\n                >已完成\r\n                </Checkbox>}\r\n            extra={<Icon \r\n                type=\"delete\" \r\n                theme=\"outlined\" \r\n                onClick={this.delete.bind(this)}/>}\r\n            style={{ width: 186 }}\r\n            >\r\n                <p className={this.props.todo.status === 'completed'?'changeColor':''}>{this.props.todo.title}</p>\r\n            </Card>\r\n        </div>)\r\n    }\r\n    toggle(e){\r\n        this.props.onToggle(e, this.props.todo)\r\n\r\n    }\r\n    delete(e){\r\n        this.props.onDelete(e,this.props.todo)\r\n    }\r\n}\r\n\r\nexport default TodoItem","import AV from \"leancloud-storage\"\r\n\r\nvar APP_ID = 'RPWGaqvaJi7fUh3HBoT6TqP4-gzGzoHsz';\r\nvar APP_KEY = '520Y7aeHCJycPnBzxymEb2Ya';\r\n\r\nAV.init({\r\n  appId: APP_ID,\r\n  appKey: APP_KEY\r\n})\r\n\r\nexport default AV\r\n\r\nexport const TodoModel = {\r\n  getByUser(user, successFn, errorFn){\r\n    // 文档见 https://leancloud.cn/docs/leanstorage_guide-js.html#批量操作\r\n    let query = new AV.Query('Todo')\r\n    query.equalTo('deleted', false);\r\n    query.find().then((response) => {\r\n      let array = response.map((t) => {\r\n        return {id: t.id, ...t.attributes}\r\n      })\r\n      successFn.call(null, array)\r\n    }, (error) => {\r\n      errorFn && errorFn.call(null, error)\r\n    })\r\n  },\r\n  create({status, title, content, deleted}, successFn, errorFn){\r\n    let Todo = AV.Object.extend('Todo')\r\n    let todo = new Todo()\r\n    todo.set('title', title)\r\n    todo.set('content', content)\r\n    todo.set('status', status)\r\n    todo.set('deleted', deleted)\r\n        // 根据文档 https://leancloud.cn/docs/acl-guide.html#单用户权限设置\r\n    // 这样做就可以让这个 Todo 只被当前用户看到\r\n    let acl = new AV.ACL()\r\n    acl.setPublicReadAccess(false) // 注意这里是 false\r\n    acl.setWriteAccess(AV.User.current(), true)\r\n    acl.setReadAccess(AV.User.current(), true)\r\n     todo.setACL(acl);\r\n    todo.save().then(function (response) {\r\n      successFn.call(null, response.id)\r\n    }, function (error) {\r\n      errorFn && errorFn.call(null, error)\r\n    });\r\n   },\r\n   update({id, title, status, deleted}, successFn, errorFn){\r\n    // 文档 https://leancloud.cn/docs/leanstorage_guide-js.html#更新对象\r\n    let todo = AV.Object.createWithoutData('Todo', id)\r\n    title !== undefined && todo.set('title', title)\r\n    status !== undefined && todo.set('status', status)\r\n    deleted !== undefined && todo.set('deleted', deleted)\r\n    // 为什么我要像上面那样写代码？\r\n    // 考虑如下场景\r\n    // update({id:1, title:'hi'})\r\n    // 调用 update 时，很有可能没有传 status 和 deleted\r\n    // 也就是说，用户只想「局部更新」\r\n    // 所以我们只 set 该 set 的\r\n    // 那么为什么不写成 title && todo.set('title', title) 呢，为什么要多此一举跟 undefined 做对比呢？\r\n    // 考虑如下场景\r\n    // update({id:1, title: '', status: null}}\r\n    // 用户想将 title 和 status 置空，我们要满足\r\n    todo.save().then((response) => {\r\n      successFn && successFn.call(null)\r\n    }, (error) => errorFn && errorFn.call(null, error))\r\n  },\r\n   destroy(todoId, successFn, errorFn){\r\n    // // 文档 https://leancloud.cn/docs/leanstorage_guide-js.html#删除对象\r\n    // let todo = AV.Object.createWithoutData('Todo', todoId)\r\n    // todo.destroy().then(function (response) {\r\n    //   successFn && successFn.call(null)\r\n    // }, function (error) {\r\n    //   errorFn && errorFn.call(null, error)\r\n    // });\r\n    TodoModel.update({id: todoId, deleted: true}, successFn, errorFn)\r\n  }\r\n}\r\n\r\nexport function signUp(email, username, password, successFn, errorFn){\r\n  // 新建 AVUser 对象实例\r\n var user = new AV.User()\r\n // 设置用户名\r\n user.setUsername(username)\r\n // 设置密码\r\n user.setPassword(password)\r\n // 设置邮箱\r\n user.setPassword(email)\r\n user.signUp().then(function (loginedUser) {\r\n   let user = getUserFromAVUser(loginedUser)\r\n   successFn.call(null, user)\r\n }, function (error) {\r\n   errorFn.call(null, error)\r\n })\r\n\r\n return undefined\r\n\r\n}\r\n\r\nexport function signIn(username, password, successFn, errorFn){\r\n  AV.User.logIn(username, password).then(function (loginedUser) {\r\n    let user = getUserFromAVUser(loginedUser)\r\n    successFn.call(null, user)\r\n  }, function (error) {\r\n    errorFn.call(null, error)\r\n  })\r\n}\r\n\r\nexport function getCurrentUser(){\r\n  let user = AV.User.current()\r\n  if(user){\r\n    return getUserFromAVUser(user)\r\n  }else{\r\n    return null\r\n  }\r\n}\r\n\r\n\r\nfunction getUserFromAVUser(AVUser){\r\n return {\r\n   id: AVUser.id,\r\n   ...AVUser.attributes\r\n }\r\n}\r\n\r\nexport function signOut(){\r\n  AV.User.logOut()\r\n  return undefined\r\n}\r\n\r\nexport function sendPasswordResetEmail(email, successFn, errorFn){\r\n  AV.User.requestPasswordReset(email).then(function (success) {\r\n    successFn.call() \r\n  }, function (error) {\r\n    errorFn.call(null, error)\r\n  })\r\n}\r\n","import React from 'react';\r\nimport { Form, Icon, Input, Button } from 'antd';\r\nimport '../css/SignUp.css'\r\n\r\nexport default function (props) {\r\n  return (\r\n    <Form className=\"signUp\" onSubmit={props.onSubmit.bind(this)}> {/* 注册*/}\r\n      <div className=\"row\">\r\n        <Input type=\"text\" value={props.formData.email}\r\n          onChange={props.onChange.bind(null, 'email')}\r\n          prefix={<Icon type=\"email\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Email\" />\r\n      </div>\r\n      <div className=\"row\">\r\n        <Input type=\"text\" value={props.formData.username}\r\n          maxLength=\"10\"\r\n          onChange={props.onChange.bind(null, 'username')}\r\n          prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username 限制10个字符\" />\r\n        {/* bind 不仅可以绑定 this，还可以绑定第一个参数 */}\r\n      </div>\r\n      <div className=\"row\">\r\n        <Input type=\"password\" value={props.formData.password}\r\n          onChange={props.onChange.bind(null, 'password')}\r\n          prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}  placeholder=\"Password\" />\r\n      </div>\r\n      <div className=\"row actions\">\r\n        <Button type=\"primary\" htmlType=\"submit\">注册</Button>\r\n      </div>\r\n    </Form>\r\n  )\r\n}","// import React from 'react';\r\n\r\n// export default function (props) {\r\n//   return (\r\n//     <form className=\"signIn\" onSubmit={props.onSubmit}> {/* 登录*/}\r\n//       <div className=\"row\">\r\n//         <label>用户名</label>\r\n//         <input type=\"text\" value={props.formData.username}\r\n//           onChange={props.onChange.bind(null, 'username')}/>\r\n//       </div>\r\n//       <div className=\"row\">\r\n//         <label>密码</label>\r\n//         <input type=\"password\" value={props.formData.password}\r\n//           onChange={props.onChange.bind(null, 'password')}/>\r\n//       </div>\r\n//       <div className=\"row actions\">\r\n//         <button type=\"submit\">登录</button>\r\n//         <a href=\"#\" onClick={props.onForgotPassword}>忘记密码了？</a>\r\n//       </div>\r\n//     </form>\r\n//   )\r\n// }\r\nimport React from 'react';\r\nimport '../css/SignUp.css'\r\nimport { Form, Icon, Input, Button } from 'antd';\r\n\r\nexport default function (props) {\r\n  return (\r\n    <Form className=\"signIn\" onSubmit={props.onSubmit} > {/* 登录*/}\r\n      <div className=\"row\">\r\n        <Input type=\"text\" value={props.formData.username}\r\n          onChange={props.onChange.bind(null, 'username')}\r\n          prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username\"/>\r\n      </div>\r\n      <div className=\"row\">\r\n        <Input type=\"password\" value={props.formData.password}\r\n          onChange={props.onChange.bind(null, 'password')}\r\n          prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}  placeholder=\"Password\"/>\r\n      </div>\r\n      <div className=\"row actions\">\r\n        <Button type=\"submit\" htmlType=\"submit\">登录</Button>\r\n      </div>\r\n      <div className='text'>\r\n        <a href=\"#\" onClick={props.onForgotPassword}>忘记密码了？</a>\r\n      </div>\r\n    </Form>\r\n  )\r\n}","import React, {Component} from 'react';\r\nimport SignUpForm from './SignUpForm'\r\nimport SignInForm from './SignInForm'\r\nimport { Radio  } from 'antd';\r\n export default class SignInOrSignUp extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      selected: 'signUp'\r\n    }\r\n  }\r\n   switch (e) {\r\n    this.setState({\r\n      selected: e.target.value\r\n    })\r\n  }\r\n   render () {\r\n    return (\r\n      <div className=\"signInOrSignUp\">\r\n        <nav>\r\n          <label>\r\n            <Radio type=\"radio\" value=\"signUp\"\r\n              checked={this.state.selected === 'signUp'}\r\n              onChange={this.switch.bind(this)}\r\n            /> 注册</label>\r\n          <label>\r\n            <Radio type=\"radio\" value=\"signIn\"\r\n              checked={this.state.selected === 'signIn'}\r\n              onChange={this.switch.bind(this)}\r\n            /> 登录</label>\r\n        </nav>\r\n        <div className=\"panes\">\r\n          {this.state.selected === 'signUp' ?\r\n            <SignUpForm formData={this.props.formData}\r\n              onSubmit={this.props.onSignUp}\r\n              onChange={this.props.onChange}\r\n            />\r\n            : null}\r\n          {this.state.selected === 'signIn' ?\r\n            <SignInForm formData={this.props.formData}\r\n              onChange={this.props.onChange}\r\n              onSubmit={this.props.onSignIn}\r\n              onForgotPassword={this.props.onForgotPassword}\r\n            />\r\n            : null}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport { Form, Icon,  Button,Input } from 'antd';\r\nimport '../css/SignUp.css'\r\n export default class ForgotPasswordForm extends Component {\r\n  render () {\r\n    return (\r\n      <div className=\"forgotPassword\">\r\n        <h3>\r\n          重置密码\r\n        </h3>\r\n        <Form className=\"forgotPassword\" onSubmit={this.props.onSubmit}> {/* 登录*/}\r\n          <div className=\"row\">\r\n            <Input type=\"text\" value={this.props.formData.email}\r\n              onChange={this.props.onChange.bind(null, 'email')}\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}  placeholder=\"Email\"/>\r\n          </div>\r\n          <div className=\"row actions\">\r\n            <Button type=\"submit\" htmlType=\"submit\">发送重置邮件</Button>\r\n          </div>\r\n          <div className='text'>\r\n            <a href=\"#\" onClick={this.props.onSignIn}>返回登录</a>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {signUp, signIn, sendPasswordResetEmail} from '../leanCloud'\r\nimport SignInOrSignUp from './SignInOrSignUp'\r\nimport ForgotPasswordForm from './ForgetPasswordForm'\r\nimport '../css/UserDialog.css'\r\nexport default class UserDialog extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      selectedTab: 'signInOrSignUp', // 'forgotPassword'\r\n      formData: {\r\n        username: '',\r\n        password: '',\r\n      }\r\n    }\r\n  }\r\n  signUp(e){\r\n    e.preventDefault()\r\n    let {email, username, password} = this.state.formData\r\n    let success = (user)=>{\r\n      this.props.onSignUp.call(null, user)\r\n    }\r\n    let error = (error)=>{\r\n      switch(error.code){\r\n        case 202:\r\n          alert('用户名已被占用')\r\n          break\r\n        default:\r\n          alert(error)\r\n          break\r\n      }\r\n    }\r\n    signUp(email, username, password, success, error)\r\n    window.location.reload();\r\n  }\r\n  signIn(e){\r\n    e.preventDefault()\r\n    let {username, password} = this.state.formData\r\n    let success = (user)=>{\r\n      this.props.onSignIn.call(null, user)\r\n    }\r\n    let error = (error)=>{\r\n      switch(error.code){\r\n        case 210:\r\n          alert('用户名与密码不匹配')\r\n          break\r\n        default:\r\n          alert(error)\r\n          break\r\n      }\r\n    }\r\n    signIn(username, password, success, error)\r\n    window.location.reload();\r\n  }\r\n  \r\n  changeFormData(key,e){\r\n    // this.state.formData.username = e.target.value\r\n    // this.setState(this.state)\r\n    // 像上面这样写会看到一个警告 warning  Do not mutate state directly. Use setState()\r\n    let stateCopy = JSON.parse(JSON.stringify(this.state))  // 用 JSON 深拷贝\r\n    stateCopy.formData[key] = e.target.value\r\n    this.setState(stateCopy)\r\n    console.log(stateCopy)\r\n  }\r\n  render(){\r\n    \r\n    return (\r\n      <div className=\"UserDialog-Wrapper\">\r\n        <div className=\"UserDialog\">\r\n          {\r\n            this.state.selectedTab === 'signInOrSignUp' ?\r\n              <SignInOrSignUp\r\n                formData={this.state.formData}\r\n                onSignIn={this.signIn.bind(this)}\r\n                onSignUp={this.signUp.bind(this)}\r\n                onChange={this.changeFormData.bind(this)}\r\n                onForgotPassword={this.showForgotPassword.bind(this)}\r\n              /> : <ForgotPasswordForm\r\n              formData={this.state.formData}\r\n              onSubmit={this.resetPassword.bind(this)}\r\n              onChange={this.changeFormData.bind(this)}\r\n              onSignIn={this.returnToSignIn.bind(this)}\r\n            />\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  showForgotPassword(){\r\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\r\n    stateCopy.selectedTab = 'forgotPassword'\r\n    this.setState(stateCopy)\r\n  }\r\n  resetPassword(e){\r\n    e.preventDefault()\r\n    sendPasswordResetEmail(this.state.formData.email)    \r\n  }\r\n  returnToSignIn(){\r\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\r\n    stateCopy.selectedTab = 'signInOrSignUp'\r\n    this.setState(stateCopy)\r\n  }\r\n}","import React, { Component } from 'react';\nimport TodoInput from './components/TodoInput'\nimport TodoItem from './components/TodoItem'\nimport UserDialog from './components/UserDialog'\nimport {getCurrentUser, signOut, TodoModel} from './leanCloud'\nimport './App.css';\nimport 'normalize.css'\nimport './reset.css'\nimport { Button,Layout } from 'antd';\nimport QueueAnim from 'rc-queue-anim';\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: getCurrentUser() || {},\n      newTodo: '',\n      newContent:'',\n      todoList: [],\n      visible: false,\n      InputShow:false\n    }\n    let user = getCurrentUser()\n    if (user) {\n      TodoModel.getByUser(user, (todos) => {\n        let stateCopy = JSON.parse(JSON.stringify(this.state))\n        stateCopy.todoList = todos\n        this.setState(stateCopy)\n      })\n    }\n    \n  }\n  render() {\n  const { Header, Footer, Sider, Content } = Layout\n    let todos = this.state.todoList\n    .filter((item) => !item.deleted)\n    .map((item,index)=>{\n      return (\n        <QueueAnim type={['top', 'bottom']} delay={300} leaveReverse>    \n          <li key={index}>\n            <TodoItem todo={item} \n            onToggle={this.toggle.bind(this)}\n            onDelete={this.delete.bind(this)}\n              />\n          </li>\n        </QueueAnim>\n      )\n    })\n    return (\n      <div className=\"App\">\n        <div className='logo'>\n          <span>Todo <span className='spanStyle'>Lists</span></span>\n        </div>\n        <h2>{this.state.user.username||'我'}的待办事项</h2>\n          {this.state.user.id ? <Button  className='SignOutBtn' onClick={this.signOut.bind(this)}>登出</Button> : null}  <br/>\n          <div className='plus' onClick={this.showInput.bind(this)}>+</div>\n        <div className=\"inputWrapper\">\n          {this.state.InputShow === false?null:<TodoInput \n          content={this.state.newTodo}\n          contents={this.state.newContent}\n          onSubmit={this.addTodo.bind(this)}\n          onChange={this.changeTitle.bind(this)}\n          />}\n          \n        </div>\n        <ol className=\"todoList\">\n          {todos}\n        </ol>\n        <Footer style={{marginBottom:40,backgroundColor:\"#fff\"}}>\n          <Button  icon=\"zhihu\" href='https://www.zhihu.com/people/chen-jun-kun/posts'>Blog</Button>\n          <Button  icon=\"github\" href='https://github.com/no1harm/react-todolist'>GitHub</Button>\n          </Footer>\n        {this.state.user.id ? \n          null : \n          <UserDialog \n          onSignUp={this.onSignUpOrSignIn.bind(this)} \n          onSignIn={this.onSignUpOrSignIn.bind(this)}/>}       \n      </div>\n    );\n  }\n  onSignUpOrSignIn(user){\n    let stateCopy = JSON.parse(JSON.stringify(this.state)) \n    stateCopy.user = user\n    this.setState(stateCopy)\n  }\n  signOut(){\n    signOut()\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\n    stateCopy.user = {}\n    this.setState(stateCopy)\n  }\n  componentDidUpdate(){\n  }\n  addTodo({title,content}){\n    let newTodo = {\n      title: title,\n      content:content,\n      status: '',\n      deleted: false\n    }\n    TodoModel.create(newTodo, (id) => {\n      newTodo.id = id\n      this.state.todoList.push(newTodo)\n      this.setState({\n        newTodo: '',\n        newContent:'',\n        todoList: this.state.todoList\n      })\n    }, (error) => {\n      console.log(error)\n    })\n  }\n  changeTitle({title,content}){\n    this.setState({\n      newTodo: title,\n      newContent:content, \n      todoList: this.state.todoList\n    })\n  }\n  toggle(e, todo){\n    let oldStatus = todo.status\n    todo.status = todo.status === 'completed' ? '' : 'completed'\n    TodoModel.update(todo, () => {\n      this.setState(this.state)\n    }, (error) => {\n      todo.status = oldStatus\n      this.setState(this.state)\n    })\n  }\n  delete(event, todo){\n    TodoModel.destroy(todo.id, () => {\n      todo.deleted = true\n      this.setState(this.state)\n    })\n  }\n  showInput(e){\n    this.setState({\n      InputShow:!this.state.InputShow\n    })\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import Welcome from './components/Welcome'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}